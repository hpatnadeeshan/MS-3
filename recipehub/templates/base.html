<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='assets/favicon.ico') }}" />
    <!-- Bootstrap Icons-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic"
        rel="stylesheet" type="text/css" />
    <!-- SimpleLightbox plugin CSS-->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/SimpleLightbox/2.1.0/simpleLightbox.min.css" rel="stylesheet" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="{{ url_for('static', filename='css/styles.css') }}" rel="stylesheet" />
    <title>RecipeHub</title>
</head>

<body id="page-top">
    <!-- Header -->
    <header>
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg {% if not is_index %}navbar-dark bg-dark{% else %}navbar-light{% endif %} fixed-top py-3"
            id="mainNav">
            <div class="container px-4 px-lg-5">
                <a class="navbar-brand" href="#page-top">Recipe Hub</a>
                <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
                    data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto my-2 my-lg-0">
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('home') }}">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('explore_recipes') }}">Recipe Explore</a>
                        </li>
                        {% if current_user.is_authenticated %}
                        <!-- Show "Add Recipe" link only when logged in -->
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('add_recipe') }}">Add Recipe</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('profile') }}">Profile</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('logout') }}">Logout</a>
                        </li>
                        {% endif %}
                        {% if not current_user.is_authenticated %}
                        <!-- Show "Login/SignUp" links only when not logged in -->
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('login') }}">Login/SignUp</a>
                        </li>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="container">
        {% block content %}
        {% endblock %}
    </main>
    <div class="modal fade" id="flashMessagesModal" tabindex="-1" role="dialog"
        aria-labelledby="flashMessagesModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-body">
                    {% with messages = get_flashed_messages() %}
                    {% if messages %}
                    <ul>
                        {% for message in messages %}
                        <li class="no-bullets">{{ message }}</li>
                        {% endfor %}
                    </ul>
                    {% endif %}
                    {% endwith %}
                </div>
            </div>
        </div>
    </div>

    <!-- Footer-->
    <footer class="bg-primary py-5 mt-auto">
        <div class="container px-4 px-lg-5">
            <div class="row">
                <div class="col-lg-6">
                    <p class="small text-white mb-0">
                        &copy; 2023 Recipe Hub. All rights reserved.
                    </p>
                </div>
                <div class="col-lg-6 text-lg-end">
                    <a href="https://www.facebook.com/nadeeshan.37" class="text-white me-3 fs-4" target="_blank">
                        <i class="bi-facebook"></i>
                    </a>
                    <a href="mailto:hpatnadeeshan@gmail.com" class="text-white me-3 fs-4" target="_blank">
                        <i class="bi-envelope"></i>
                    </a>
                    <a href="https://www.linkedin.com/in/tharindu-nadeeshan/" class="text-white fs-4" target="_blank">
                        <i class="bi-linkedin"></i>
                    </a>
                </div>
            </div>
        </div>
    </footer>


    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.7.1.js"
        integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct"
        crossorigin="anonymous"></script>

    <!-- Font Awesome JS -->
    <script src="https://kit.fontawesome.com/937ad0d044.js" crossorigin="anonymous"></script>

    <!-- SimpleLightbox plugin JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/SimpleLightbox/2.1.0/simpleLightbox.min.js"></script>

    <!-- Bootstrap Select CSS -->
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.min.css">

    <!-- Bootstrap Select JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>

    <!--  Custom Scripts -->
    <script src="{{ url_for('static', filename='js/scripts.js') }}"></script>
</body>

</html>